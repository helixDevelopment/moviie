// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Movie {
    id          String      
    userID      String      
    user        User        @relation("userMovies", fields: [userID], references: [id])

    starred     Boolean     @default(false)
    rating      Int         @default(0)
    notes       String      @default("")
    review      String      @default("")

    watched     Boolean     @default(false)
    watchDate   DateTime?   @default(now())
    watching    Boolean     @default(false)

    @@id([id, userID])
}

model User {
    id          String      @id

    username    String      @unique
    hashPw      String      // (Hashed password)

    movies      Movie[]     @relation("userMovies")
}